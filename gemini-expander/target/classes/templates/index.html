<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tradutor com IA (Gemini)</title>
</head>

<body>
<h1>Tradutor de Texto para Inglês com IA (Gemini)</h1>

<label>Texto em português:</label><br>
<textarea id="textoBase" rows="6" cols="60"></textarea>

<br><br>
<button onclick="traduzir()">Traduzir para Inglês</button>

<h2>Resultado:</h2>
<pre id="resultado"></pre>

<script>
    const API_KEY = "AIzaSyDMahvEqkFmxgrFO1AO_P1d7Us32Emxb2U";

    async function traduzir() {
        const texto = document.getElementById("textoBase").value;
        const resultado = document.getElementById("resultado");

        try {
            const response = await fetch(
                `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent`,
                {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "x-goog-api-key":API_KEY

                    },
                    body: JSON.stringify({
                        contents: [
                            {
                                parts: [
                                    { text: `Traduza o seguinte texto para inglês: ${texto}.retorne somente o texto` }
                                ]
                            }
                        ]
                    })
                }
            );

            const data = await response.json();
            console.log("Resposta da API:", data);

            // Verifica estrutura correta do Gemini
            if (!data.candidates ||
                !data.candidates[0].content ||
                !data.candidates[0].content.parts ||
                !data.candidates[0].content.parts[0].text) {

                resultado.innerText = "Erro: Resposta inesperada da IA.";
                return;
            }

            // Texto traduzido
            const traducao = data.candidates[0].content.parts[0].text;
            resultado.innerText = traducao;

        } catch (error) {
            console.log(error);
            resultado.innerText = "Erro ao tentar traduzir.";
        }
    }
</script>

</body>
</html>
